<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<title>Malla Curricular con Correlativas</title>
<style>
  body { background: #001f4d; color: #cce6ff; font-family: Arial, sans-serif; padding: 20px; }
  .materia {
    margin: 10px 0; padding: 10px; border: 2px solid #3399ff; border-radius: 12px;
    background: #004080; display: flex; align-items: center;
  }
  .materia.bloqueada { opacity: 0.5; cursor: not-allowed; }
  input[type="checkbox"] { width: 20px; height: 20px; cursor: pointer; }
  input[type="checkbox"]:disabled { cursor: not-allowed; }
  h1, h2 { color: #99ccff; user-select: none; }
  h2 { border-bottom: 2px solid #3399ff; padding-bottom: 5px; }
  label { margin-left: 8px; user-select: none; }
</style>
</head>
<body>

<h1>Malla Curricular Dise√±o Gr√°fico</h1>

<h2>üìÖ 1¬∞ A√±o ‚Äì CBC (Ciclo B√°sico Com√∫n)</h2>
<div class="materia"><input type="checkbox" id="MCSyE"><label for="MCSyE">Introducci√≥n al Conocimiento de la Sociedad y el Estado</label></div>
<div class="materia"><input type="checkbox" id="IPC"><label for="IPC">Introducci√≥n al Pensamiento Cient√≠fico</label></div>
<div class="materia"><input type="checkbox" id="ICP1"><label for="ICP1">Introducci√≥n al Conocimiento Proyectual I</label></div>
<div class="materia"><input type="checkbox" id="ICP2"><label for="ICP2">Introducci√≥n al Conocimiento Proyectual II</label></div>
<div class="materia"><input type="checkbox" id="MAT"><label for="MAT">Matem√°tica</label></div>
<div class="materia"><input type="checkbox" id="SEM"><label for="SEM">Semiolog√≠a</label></div>
<div class="materia"><input type="checkbox" id="TD"><label for="TD">Taller de Dibujo</label></div>

<h2>üìÖ 2¬∞ A√±o ‚Äì Ciclo de Formaci√≥n Inicial</h2>
<div class="materia"><input type="checkbox" id="DG1" disabled><label for="DG1">Dise√±o Gr√°fico I</label></div>
<div class="materia"><input type="checkbox" id="M1" disabled><label for="M1">Morfolog√≠a I</label></div>
<div class="materia"><input type="checkbox" id="TIP1" disabled><label for="TIP1">Tipograf√≠a I</label></div>
<div class="materia"><input type="checkbox" id="C1" disabled><label for="C1">Comunicaci√≥n I</label></div>
<div class="materia"><input type="checkbox" id="H1" disabled><label for="H1">Historia I</label></div>
<div class="materia"><input type="checkbox" id="TEC1" disabled><label for="TEC1">Tecnolog√≠a I</label></div>
<div class="materia"><input type="checkbox" id="ELEC1" disabled><label for="ELEC1">Electiva I (Fotograf√≠a o Ilustraci√≥n)</label></div>

<script>
  // Definimos correlativas: clave = materia, valor = array de materias que debe tener aprobadas
  const correlativas = {
    // Segundo a√±o depende de CBC completo (todas del primer a√±o)
    DG1: ["MCSyE", "IPC", "ICP1", "ICP2", "MAT", "SEM", "TD"],
    M1: ["MCSyE", "IPC", "ICP1", "ICP2", "MAT", "SEM", "TD"],
    TIP1: ["MCSyE", "IPC", "ICP1", "ICP2", "MAT", "SEM", "TD"],
    C1: ["MCSyE", "IPC", "ICP1", "ICP2", "MAT", "SEM", "TD"],
    H1: ["MCSyE", "IPC", "ICP1", "ICP2", "MAT", "SEM", "TD"],
    TEC1: ["MCSyE", "IPC", "ICP1", "ICP2", "MAT", "SEM", "TD"],
    ELEC1: ["MCSyE", "IPC", "ICP1", "ICP2", "MAT", "SEM", "TD"],
  };

  // Todas las materias (1er y 2do a√±o)
  const materias = [
    "MCSyE","IPC","ICP1","ICP2","MAT","SEM","TD",
    "DG1","M1","TIP1","C1","H1","TEC1","ELEC1"
  ];

  function puedeHabilitar(materia, aprobadasSet) {
    if (!correlativas[materia]) return true; // Sin correlativas, siempre habilitada
    // Requiere que todas las correlativas est√©n aprobadas
    return correlativas[materia].every(req => aprobadasSet.has(req));
  }

  function actualizarEstado() {
    const aprobadas = new Set(
      materias.filter(id => document.getElementById(id).checked)
    );

    materias.forEach(id => {
      const cb = document.getElementById(id);
      if (id.startsWith("MCSyE") || id.startsWith("IPC") || id.startsWith("ICP1") || id.startsWith("ICP2") || id.startsWith("MAT") || id.startsWith("SEM") || id.startsWith("TD")) {
        // Primer a√±o: siempre habilitado
        cb.disabled = false;
        cb.parentElement.classList.remove("bloqueada");
      } else {
        // Segundo a√±o: depende de correlativas
        if (puedeHabilitar(id, aprobadas)) {
          cb.disabled = false;
          cb.parentElement.classList.remove("bloqueada");
        } else {
          cb.checked = false;
          cb.disabled = true;
          cb.parentElement.classList.add("bloqueada");
        }
      }
    });
  }

  // Agregamos listener a todos los checkboxes
  materias.forEach(id => {
    document.getElementById(id).addEventListener("change", actualizarEstado);
  });

  // Al cargar la p√°gina, actualizar estado
  actualizarEstado();
</script>

</body>
</html>
