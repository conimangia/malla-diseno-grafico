<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<title>Malla Curricular B√°sica Interactiva</title>
<style>
  body { background: #001f4d; color: #cce6ff; font-family: Arial, sans-serif; padding: 20px; }
  .materia { margin: 10px 0; padding: 10px; border: 2px solid #3399ff; border-radius: 12px; background: #004080; display: flex; align-items: center; }
  .materia.aprobada { background: #0073e6; text-decoration: line-through; }
  .materia.bloqueada { opacity: 0.5; cursor: not-allowed; }
  input[type="checkbox"] { width: 20px; height: 20px; cursor: pointer; }
  input[type="checkbox"]:disabled { cursor: not-allowed; }
  h1, h2 { color: #99ccff; user-select: none; }
  h2 { border-bottom: 2px solid #3399ff; padding-bottom: 5px; }
  label { margin-left: 8px; user-select: none; }
</style>
</head>
<body>

<h1>Malla Curricular Dise√±o Gr√°fico</h1>

<div id="malla-container"></div>

<script>
  // Materias primer a√±o (CBC)
  const primerAno = [
    { id: "MCSyE", nombre: "Introducci√≥n al Conocimiento de la Sociedad y el Estado" },
    { id: "IPC", nombre: "Introducci√≥n al Pensamiento Cient√≠fico" },
    { id: "ICP1", nombre: "Introducci√≥n al Conocimiento Proyectual I" },
    { id: "ICP2", nombre: "Introducci√≥n al Conocimiento Proyectual II" },
    { id: "MAT", nombre: "Matem√°tica" },
    { id: "SEM", nombre: "Semiolog√≠a" },
    { id: "TD", nombre: "Taller de Dibujo" },
  ];

  // Materias segundo a√±o, con correlativa CBC completo
  const segundoAno = [
    { id: "DG1", nombre: "Dise√±o Gr√°fico I" },
    { id: "M1", nombre: "Morfolog√≠a I" },
    { id: "TIP1", nombre: "Tipograf√≠a I" },
    { id: "C1", nombre: "Comunicaci√≥n I" },
    { id: "H1", nombre: "Historia I" },
    { id: "TEC1", nombre: "Tecnolog√≠a I" },
    { id: "ELEC1", nombre: "Electiva I (Fotograf√≠a o Ilustraci√≥n)" },
  ];

  const container = document.getElementById("malla-container");

  function render() {
    container.innerHTML = "";

    // Obtenemos las materias aprobadas (checkbox checked)
    const aprobadas = new Set(
      [...document.querySelectorAll("input[type=checkbox]:checked")].map(cb => cb.value)
    );

    // Verificamos si CBC est√° completo (todas las materias del primer a√±o aprobadas)
    const cbcCompleto = primerAno.every(m => aprobadas.has(m.id));

    // Render primer a√±o
    const divPrimerAno = document.createElement("div");
    divPrimerAno.className = "anio";
    const h2PrimerAno = document.createElement("h2");
    h2PrimerAno.textContent = "üìÖ 1¬∞ A√±o ‚Äì CBC (Ciclo B√°sico Com√∫n)";
    divPrimerAno.appendChild(h2PrimerAno);

    primerAno.forEach(materia => {
      const divMat = document.createElement("div");
      divMat.className = "materia";
      if (aprobadas.has(materia.id)) divMat.classList.add("aprobada");

      const checkbox = document.createElement("input");
      checkbox.type = "checkbox";
      checkbox.value = materia.id;
      checkbox.checked = aprobadas.has(materia.id);
      checkbox.disabled = false; // Siempre habilitados para primer a√±o

      checkbox.addEventListener("change", render);

      const label = document.createElement("label");
      label.htmlFor = materia.id;
      label.textContent = materia.nombre;

      divMat.appendChild(checkbox);
      divMat.appendChild(label);
      divPrimerAno.appendChild(divMat);
    });

    container.appendChild(divPrimerAno);

    // Render segundo a√±o
    const divSegundoAno = document.createElement("div");
    divSegundoAno.className = "anio";
    const h2SegundoAno = document.createElement("h2");
    h2SegundoAno.textContent = "üìÖ 2¬∞ A√±o ‚Äì Ciclo de Formaci√≥n Inicial";
    divSegundoAno.appendChild(h2SegundoAno);

    segundoAno.forEach(materia => {
      const divMat = document.createElement("div");
      divMat.className = "materia";
      if (aprobadas.has(materia.id)) divMat.classList.add("aprobada");

      const checkbox = document.createElement("input");
      checkbox.type = "checkbox";
      checkbox.value = materia.id;
      checkbox.checked = aprobadas.has(materia.id);
      checkbox.disabled = !cbcCompleto; // Deshabilitado si CBC no completo

      if (!cbcCompleto && !aprobadas.has(materia.id)) {
        divMat.classList.add("bloqueada");
      }

      checkbox.addEventListener("change", render);

      const label = document.createElement("label");
      label.htmlFor = materia.id;
      label.textContent = materia.nombre;

      divMat.appendChild(checkbox);
      divMat.appendChild(label);
      divSegundoAno.appendChild(divMat);
    });

    container.appendChild(divSegundoAno);
  }

  render();
</script>

</body>
</html>
