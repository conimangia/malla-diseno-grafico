<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Malla Curricular ‚Äì Dise√±o Gr√°fico</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 30px;
      background: #f5f5f5;
      max-width: 700px;
      margin: auto;
    }
    h1 {
      text-align: center;
      margin-bottom: 40px;
    }
    .anio {
      background: #333;
      color: white;
      padding: 10px;
      margin-top: 30px;
      font-weight: bold;
    }
    .materia {
      background: white;
      margin: 8px 0;
      padding: 10px;
      border-left: 5px solid #2196f3;
      cursor: pointer;
      user-select: none;
      display: flex;
      align-items: center;
      justify-content: space-between;
      transition: background 0.3s ease;
    }
    .materia.desactivada {
      color: #aaa;
      border-left-color: #bbb;
      cursor: default;
      text-decoration: line-through;
      background: #ddd;
    }
    .materia.activa {
      color: #000;
      border-left-color: #2196f3;
      cursor: pointer;
      text-decoration: none;
      background: white;
    }
    .correlativas {
      font-size: 0.9em;
      color: #555;
      margin-left: 15px;
      font-style: italic;
    }
    .checkbox-materia {
      margin-right: 10px;
      transform: scale(1.3);
      cursor: pointer;
    }
  </style>
</head>
<body>
  <h1>Malla Curricular ‚Äì Dise√±o Gr√°fico</h1>

  <div class="anio">üß≠ 1¬∞ A√ëO ‚Äì CBC</div>
  <div class="materia activa" id="sociedad">
    <label>
      <input type="checkbox" class="checkbox-materia" data-materia="sociedad" />
      Introducci√≥n al Conocimiento de la Sociedad y el Estado
    </label>
  </div>

  <div class="materia activa" id="pensamiento">
    <label>
      <input type="checkbox" class="checkbox-materia" data-materia="pensamiento" />
      Introducci√≥n al Pensamiento Cient√≠fico
    </label>
  </div>

  <div class="materia activa" id="proyectual1">
    <label>
      <input type="checkbox" class="checkbox-materia" data-materia="proyectual1" />
      Introducci√≥n al Conocimiento Proyectual I
    </label>
  </div>

  <div class="materia desactivada" id="proyectual2">
    <label>
      <input type="checkbox" class="checkbox-materia" data-materia="proyectual2" disabled />
      Introducci√≥n al Conocimiento Proyectual II
    </label>
    <div class="correlativas">Correlativa: Proyectual I</div>
  </div>

  <div class="materia activa" id="matematica">
    <label>
      <input type="checkbox" class="checkbox-materia" data-materia="matematica" />
      Matem√°tica
    </label>
  </div>

  <div class="materia activa" id="semiologia">
    <label>
      <input type="checkbox" class="checkbox-materia" data-materia="semiologia" />
      Semiolog√≠a
    </label>
  </div>

  <div class="materia activa" id="taller-dibujo">
    <label>
      <input type="checkbox" class="checkbox-materia" data-materia="taller-dibujo" />
      Taller de Dibujo
    </label>
  </div>

  <div class="anio">‚úèÔ∏è 2¬∞ A√ëO ‚Äì Ciclo de Formaci√≥n Inicial</div>
  <div class="materia desactivada" id="dg1">
    <label>
      <input type="checkbox" class="checkbox-materia" data-materia="dg1" disabled />
      Dise√±o Gr√°fico I (DG1)
    </label>
    <div class="correlativas">Correlativa: CBC completo</div>
  </div>

  <div class="materia desactivada" id="m1">
    <label>
      <input type="checkbox" class="checkbox-materia" data-materia="m1" disabled />
      Morfolog√≠a I (M1)
    </label>
    <div class="correlativas">Correlativa: CBC completo</div>
  </div>

  <!-- Podes seguir agregando todas las materias y a√±os similares -->

  <script>
    // Defino las correlativas (clave = materia, valor = array de materias desbloqueadas)
    const correlativas = {
      proyectual1: ["proyectual2"],
      // El CBC completo es que todas las materias de 1er a√±o est√©n aprobadas
      // Entonces para habilitar 2do a√±o, validamos el estado de todas materias de 1er a√±o
      // Por ejemplo, dg1, m1, tip1, c1, h1, tec1, electiva1 necesitan CBC completo
    };

    // Para materias que requieren CBC completo (todas de 1er a√±o)
    const materiasPrimerAnio = [
      "sociedad",
      "pensamiento",
      "proyectual1",
      "proyectual2",
      "matematica",
      "semiologia",
      "taller-dibujo"
    ];

    const materiasSegundoAnio = ["dg1", "m1"]; // Pueden agregar m√°s ac√°

    // Funci√≥n para chequear si CBC est√° completo
    function cbcCompleto() {
      return materiasPrimerAnio.every(materiaId => {
        const checkbox = document.querySelector(`#${materiaId} input[type="checkbox"]`);
        return checkbox && checkbox.checked;
      });
    }

    // Funci√≥n para actualizar materias habilitadas
    function actualizarMaterias() {
      // Si CBC completo, habilito materias de 2do a√±o
      const habilitarSegundoAnio = cbcCompleto();

      materiasSegundoAnio.forEach(materiaId => {
        const divMateria = document.getElementById(materiaId);
        const checkbox = divMateria.querySelector("input[type='checkbox']");
        if (habilitarSegundoAnio) {
          divMateria.classList.remove("desactivada");
          divMateria.classList.add("activa");
          checkbox.disabled = false;
        } else {
          divMateria.classList.add("desactivada");
          divMateria.classList.remove("activa");
          checkbox.disabled = true;
          checkbox.checked = false;
        }
      });

      // Correlativas espec√≠ficas
      for (const [materia, desbloquea] of Object.entries(correlativas)) {
        const materiaCheck = document.querySelector(`#${materia} input[type="checkbox"]`);
        if (materiaCheck && materiaCheck.checked) {
          desbloquea.forEach(materiaId => {
            const divDesbloqueada = document.getElementById(materiaId);
            const checkboxDesbloqueada = divDesbloqueada.querySelector("input[type='checkbox']");
            divDesbloqueada.classList.remove("desactivada");
            divDesbloqueada.classList.add("activa");
            checkboxDesbloqueada.disabled = false;
          });
        } else {
          desbloquea.forEach(materiaId => {
            const divDesbloqueada = document.getElementById(materiaId);
            const checkboxDesbloqueada = divDesbloqueada.querySelector("input[type='checkbox']");
            divDesbloqueada.classList.add("desactivada");
            divDesbloqueada.classList.remove("activa");
            checkboxDesbloqueada.disabled = true;
            checkboxDesbloqueada.checked = false;
          });
        }
      }
    }

    // Agrego event listeners a todos los checkboxes
    document.querySelectorAll(".checkbox-materia").forEach(cb => {
      cb.addEventListener("change", () => {
        actualizarMaterias();
      });
    });

    // Al cargar la p√°gina, actualizo el estado
    window.addEventListener("load", () => {
      actualizarMaterias();
    });
  </script>
</body>
</html>
